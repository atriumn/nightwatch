{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Home","text":""},{"location":"#noxaudit","title":"Noxaudit","text":"<p>Nightly AI-powered codebase audits with rotating focus areas, multi-provider support, and decision memory.</p> <p>Get Started View on GitHub</p>"},{"location":"#the-problem","title":"The Problem","text":"<p>Codebases drift. Docs go stale, security issues creep in, patterns diverge, dead code accumulates. Manual reviews are expensive and inconsistent. Linters catch syntax but miss semantics.</p>"},{"location":"#the-solution","title":"The Solution","text":"<p>Noxaudit runs focused AI audits across 7 specialized areas \u2014 security, patterns, docs, hygiene, performance, dependencies, and testing. It remembers what you've already reviewed so it only surfaces genuinely new findings.</p> <p>Each run, Noxaudit:</p> <ol> <li>Gathers relevant files from your codebase (deduped across focus areas)</li> <li>Sends them to an AI provider (Claude, GPT, Gemini) with focused prompts</li> <li>Filters results against your decision history (so resolved issues don't resurface)</li> <li>Generates a report and sends you a notification</li> </ol>"},{"location":"#key-features","title":"Key Features","text":"<ul> <li> <p> 7 Focus Areas</p> <p>Security, patterns, docs, hygiene, performance, dependencies, and testing \u2014 each with specialized prompts.</p> </li> <li> <p> Decision Memory</p> <p>Record decisions about findings so they don't resurface. Decisions expire after 90 days or when the file changes.</p> </li> <li> <p> Multi-Provider</p> <p>Rotate between Anthropic Claude, OpenAI GPT, and Google Gemini. Different models catch different things.</p> </li> <li> <p> Cost Controls</p> <p>Budget limits, cost estimation before running, batch API discounts, and pre-pass token optimization.</p> </li> <li> <p> GitHub Integration</p> <p>GitHub Actions workflow, automatic issue creation, and SARIF upload for Code Scanning alerts.</p> </li> <li> <p> Notifications</p> <p>Get summaries via Telegram with severity counts and finding details.</p> </li> </ul>"},{"location":"#quick-install","title":"Quick Install","text":"<pre><code>pip install noxaudit\n</code></pre> <pre><code>export ANTHROPIC_API_KEY=sk-ant-...\nnoxaudit run --focus security\n</code></pre> <p>See the full Installation Guide and Quick Start.</p>"},{"location":"#example-output","title":"Example Output","text":"<pre><code>\ud83d\udd12 Security Audit \u2014 my-app\n3 new findings: \ud83d\udd34 1 high, \ud83d\udfe1 2 medium\n\n\u26a0\ufe0f SQL interpolation in query builder\n   src/db/queries.ts\n\u2139\ufe0f Console.log with request body\n   src/middleware/auth.ts\n\u2139\ufe0f Permissive CORS in production config\n   src/config/cors.ts\n\n\u2705 5 previous findings still resolved\n</code></pre>"},{"location":"#license","title":"License","text":"<p>MIT</p>"},{"location":"changelog/","title":"Changelog","text":"<p>All notable changes to this project will be documented in this file.</p> <p>The format is based on Keep a Changelog, and this project adheres to Semantic Versioning.</p>"},{"location":"changelog/#unreleased","title":"[Unreleased]","text":""},{"location":"changelog/#changed","title":"Changed","text":"<ul> <li>Renamed project from Nightwatch to Noxaudit for better GitHub uniqueness</li> <li>Package name changed from <code>nightwatch-ai</code> to <code>noxaudit</code></li> <li>CLI command changed from <code>nightwatch</code> to <code>noxaudit</code></li> <li>Configuration file renamed from <code>nightwatch.yml</code> to <code>noxaudit.yml</code></li> <li>Working directory changed from <code>.nightwatch/</code> to <code>.noxaudit/</code></li> <li>Made GitHub issue footer repository URL configurable via <code>repository_url</code> config field</li> </ul>"},{"location":"changelog/#010-2026-02-15","title":"[0.1.0] - 2026-02-15","text":""},{"location":"changelog/#added","title":"Added","text":"<ul> <li>Initial release</li> <li>Multi-provider AI support (Anthropic, Google Gemini)</li> <li>Rotating focus areas: security, patterns, docs, hygiene, performance, dependencies, testing</li> <li>Decision memory system to avoid re-flagging resolved issues</li> <li>GitHub Actions integration</li> <li>Telegram notifications</li> <li>GitHub issue creation</li> <li>Two-pass audit for large codebases</li> </ul>"},{"location":"contributing/","title":"Contributing","text":"<p>Thank you for your interest in contributing to Noxaudit!</p>"},{"location":"contributing/#development-setup","title":"Development Setup","text":"<pre><code># Clone the repository\ngit clone https://github.com/atriumn/noxaudit.git\ncd noxaudit\n\n# Install in development mode with dev dependencies\nuv pip install -e \".[dev]\"\n\n# Install git hooks\n./scripts/setup-hooks.sh\n</code></pre> <p>This installs:</p> <ul> <li>Pre-commit hooks: ruff format + lint on every commit</li> <li>Pre-push hook: pytest runs before every push</li> </ul>"},{"location":"contributing/#running-tests","title":"Running Tests","text":"<pre><code># Run all tests\npytest tests/ -v\n\n# Run with coverage\npytest tests/ --cov=noxaudit --cov-report=term-missing\n\n# Run a specific test file\npytest tests/test_config.py -v\n\n# Run only CLI integration tests\npytest tests/ -m cli_integration -v\n</code></pre>"},{"location":"contributing/#code-quality","title":"Code Quality","text":"<p>We use Ruff for linting and formatting:</p> <pre><code># Check for linting issues\nruff check noxaudit/ tests/\n\n# Auto-fix linting issues\nruff check --fix noxaudit/ tests/\n\n# Format code\nruff format noxaudit/ tests/\n\n# Check formatting without modifying\nruff format --check noxaudit/ tests/\n</code></pre> <p>Before submitting a PR:</p> <pre><code>ruff check noxaudit/ tests/ &amp;&amp; ruff format --check noxaudit/ tests/\n</code></pre>"},{"location":"contributing/#cli-integration-tests","title":"CLI Integration Tests","text":"<p>Every new feature must have at least one CLI integration test.</p> <p>We've seen features pass unit tests but never get wired into the CLI. To prevent this, all features must be tested end-to-end through the CLI entry point.</p>"},{"location":"contributing/#the-pattern","title":"The Pattern","text":"<pre><code>from click.testing import CliRunner\nfrom unittest.mock import patch, MagicMock\nfrom noxaudit.cli import main\n\n@pytest.mark.cli_integration\ndef test_my_feature_through_cli(tmp_path):\n    cfg = _write_config(tmp_path)\n    provider_cls, provider_instance = _make_mock_provider(findings=[...])\n\n    with patch.dict(\"noxaudit.runner.PROVIDERS\", {\"gemini\": provider_cls}):\n        result = CliRunner().invoke(main, [\"--config\", cfg, \"run\", \"--focus\", \"security\"])\n\n    assert result.exit_code == 0\n    assert \"my feature output\" in result.output\n</code></pre> <p>A CLI integration test:</p> <ol> <li>Invokes the CLI through <code>click.testing.CliRunner</code> (not runner functions directly)</li> <li>Mocks the AI provider so no real API calls are made</li> <li>Asserts that the feature's output/side-effects are observable from the CLI layer</li> </ol> <p>Mark integration tests with <code>@pytest.mark.cli_integration</code> and place them in:</p> <ul> <li><code>tests/test_cli_integration.py</code> \u2014 general CLI integration tests</li> <li><code>tests/test_sarif_integration.py</code> \u2014 SARIF-specific integration tests</li> </ul>"},{"location":"contributing/#adding-a-new-focus-area","title":"Adding a New Focus Area","text":"<ol> <li> <p>Create the focus area class in <code>noxaudit/focus/yourarea.py</code>:</p> <pre><code>from noxaudit.focus.base import FocusArea\n\nclass YourAreaFocus(FocusArea):\n    name = \"yourarea\"\n    description = \"Brief description of what this audit looks for\"\n\n    def get_prompt(self, context: dict) -&gt; str:\n        return super().get_prompt(context)\n</code></pre> </li> <li> <p>Add a prompt template in <code>focus_prompts/yourarea.md</code> with audit instructions, examples, and severity guidelines.</p> </li> <li> <p>Register it in <code>noxaudit/focus/__init__.py</code>:</p> <pre><code>from noxaudit.focus.yourarea import YourAreaFocus\n\nFOCUS_AREAS = {\n    \"yourarea\": YourAreaFocus,\n    # ... other focus areas\n}\n</code></pre> </li> <li> <p>Add tests in <code>tests/test_focus.py</code>.</p> </li> </ol>"},{"location":"contributing/#project-structure","title":"Project Structure","text":"<pre><code>noxaudit/\n\u251c\u2500\u2500 focus/              # Focus area implementations\n\u2502   \u251c\u2500\u2500 base.py        # Base FocusArea class\n\u2502   \u251c\u2500\u2500 security.py    # Security audit focus\n\u2502   \u2514\u2500\u2500 ...\n\u251c\u2500\u2500 providers/          # AI provider integrations\n\u2502   \u251c\u2500\u2500 anthropic.py   # Anthropic Claude\n\u2502   \u2514\u2500\u2500 gemini.py      # Google Gemini\n\u251c\u2500\u2500 notifications/      # Notification handlers\n\u2502   \u251c\u2500\u2500 telegram.py    # Telegram notifications\n\u2502   \u2514\u2500\u2500 github.py      # GitHub issue creation\n\u251c\u2500\u2500 mcp/               # MCP server\n\u2502   \u2514\u2500\u2500 server.py      # 5 exposed tools\n\u251c\u2500\u2500 config.py          # Configuration handling\n\u251c\u2500\u2500 runner.py          # Main audit runner\n\u251c\u2500\u2500 decisions.py       # Decision memory\n\u251c\u2500\u2500 pricing.py         # Cost estimation\n\u251c\u2500\u2500 sarif.py           # SARIF output\n\u251c\u2500\u2500 prepass.py         # Pre-pass file triage\n\u2514\u2500\u2500 cli.py             # CLI entry point\n\ntests/                  # Test suite\naction/                 # GitHub Action definition\nfocus_prompts/          # Prompt templates for focus areas\ndocs/                   # Documentation (this site)\n</code></pre>"},{"location":"contributing/#pull-request-guidelines","title":"Pull Request Guidelines","text":"<ol> <li>Keep changes focused \u2014 one PR per issue or feature</li> <li>Write tests \u2014 including at least one CLI integration test for new features</li> <li>Update documentation \u2014 update docs if adding user-facing features</li> <li>Follow code style \u2014 run <code>ruff format</code> before committing</li> <li>Use conventional commits:<ul> <li><code>feat:</code> new features</li> <li><code>fix:</code> bug fixes</li> <li><code>docs:</code> documentation changes</li> <li><code>refactor:</code> code refactoring</li> <li><code>test:</code> test additions/changes</li> </ul> </li> </ol>"},{"location":"contributing/#getting-help","title":"Getting Help","text":"<ul> <li>GitHub Issues \u2014 report bugs or request features</li> <li>GitHub Discussions \u2014 ask questions or share ideas</li> </ul>"},{"location":"getting-started/first-audit/","title":"Your First Audit","text":"<p>This walkthrough takes you through a complete audit cycle: estimating cost, running the audit, interpreting findings, recording decisions, and generating a report.</p>"},{"location":"getting-started/first-audit/#step-1-estimate-the-cost","title":"Step 1: Estimate the Cost","text":"<p>Before spending any API credits, see what the audit will cost:</p> <pre><code>noxaudit estimate --focus security\n</code></pre> <pre><code>  my-app \u2014 security\n\n  Files:     42 files, 87K tokens\n  Provider:  anthropic (claude-sonnet-4-5)\n\n  Cost estimate: ~$0.14\n    Batch API 50% discount applied.\n\n  Alternatives:\n    gemini (gemini-2.0-flash)                ~$0.01   93% cheaper \u2014 recommended for daily audits\n\n  Monthly estimate: ~$4.20 (assuming daily runs)\n</code></pre> <p>No API key is needed for estimation \u2014 it counts files and tokens locally.</p> <p>Tip</p> <p>Use <code>--focus all</code> to see the cost for all 7 focus areas combined.</p>"},{"location":"getting-started/first-audit/#step-2-run-the-audit","title":"Step 2: Run the Audit","text":"<pre><code>noxaudit run --focus security\n</code></pre> <p>Noxaudit gathers security-relevant files, sends them to the AI provider, and filters the results against your decision history.</p> <pre><code>my-app: 3 new findings\n</code></pre>"},{"location":"getting-started/first-audit/#step-3-read-the-report","title":"Step 3: Read the Report","text":"<pre><code>noxaudit report\n</code></pre> <p>This shows the latest report. You can also find reports in <code>.noxaudit/reports/my-app/</code>.</p> <p>Each finding includes:</p> <ul> <li>Severity \u2014 high, medium, or low</li> <li>Title \u2014 short description of the issue</li> <li>File \u2014 where the issue was found</li> <li>Description \u2014 what the AI found and why it matters</li> <li>Suggestion \u2014 recommended fix</li> </ul>"},{"location":"getting-started/first-audit/#step-4-make-decisions","title":"Step 4: Make Decisions","text":"<p>For each finding, decide what to do:</p> <pre><code># You fixed it\nnoxaudit decide abc123 --action accept --reason \"Fixed in PR #42\"\n\n# It's not a real issue\nnoxaudit decide def456 --action dismiss --reason \"Test fixture, not real credentials\"\n\n# It's intentional\nnoxaudit decide ghi789 --action intentional --reason \"Permissive CORS for dev environment\"\n</code></pre> <p>Decisions are stored in <code>.noxaudit/decisions.jsonl</code>. A finding won't resurface unless:</p> <ul> <li>The file it's in changes</li> <li>The decision expires (default: 90 days)</li> </ul> <p>Tip</p> <p>Commit <code>.noxaudit/decisions.jsonl</code> to share decisions across your team.</p>"},{"location":"getting-started/first-audit/#step-5-baseline-existing-findings","title":"Step 5: Baseline Existing Findings","text":"<p>If you're adding noxaudit to an existing project with many known issues, baseline them all at once:</p> <pre><code>noxaudit baseline\n</code></pre> <p>This creates <code>dismiss</code> decisions for every current finding. Future runs will only show new issues.</p> <p>Undo anytime:</p> <pre><code>noxaudit baseline --undo\n</code></pre>"},{"location":"getting-started/first-audit/#step-6-check-status","title":"Step 6: Check Status","text":"<p>See your configuration and cost history:</p> <pre><code>noxaudit status\n</code></pre> <pre><code>Noxaudit v0.1.0\n\nRepos:\n  my-app: . (anthropic)\n\nFocus areas:\n  security: Secrets, injection, auth, and configuration vulnerabilities\n  docs: README accuracy, stale comments, API doc drift\n  ...\n\nModel: claude-sonnet-4-5-20250929\nDecisions: .noxaudit/decisions.jsonl\nReports: .noxaudit/reports\n\nCost (last 30 days):\n  Audits run:          1\n  Total input tokens:  87K\n  Total output tokens: 8K\n  Estimated spend:     $0.14\n  Avg per audit:       $0.14\n  Projected monthly:   ~$4.20\n</code></pre>"},{"location":"getting-started/first-audit/#step-7-set-up-nightly-runs","title":"Step 7: Set Up Nightly Runs","text":"<p>Once you're happy with the results, automate it. See the GitHub Actions integration or set up a cron job:</p> <pre><code># Run all focus areas daily at 6 AM\n0 6 * * * cd /path/to/project &amp;&amp; noxaudit run\n</code></pre>"},{"location":"getting-started/first-audit/#whats-next","title":"What's Next","text":"<ul> <li>Usage Patterns \u2014 on-demand, CI, and rotation examples</li> <li>Cost Management \u2014 budget controls and optimization</li> <li>Decision Memory \u2014 advanced decision management</li> </ul>"},{"location":"getting-started/installation/","title":"Installation","text":""},{"location":"getting-started/installation/#requirements","title":"Requirements","text":"<ul> <li>Python 3.11 or higher</li> <li>An API key for at least one AI provider</li> </ul>"},{"location":"getting-started/installation/#install-with-pip","title":"Install with pip","text":"<pre><code>pip install noxaudit\n</code></pre> <p>Or with uv:</p> <pre><code>uv pip install noxaudit\n</code></pre>"},{"location":"getting-started/installation/#optional-extras","title":"Optional Extras","text":"<p>Noxaudit supports multiple AI providers. Install the extras for the providers you want to use:</p> Anthropic (default)OpenAIGoogle GeminiMCP ServerAll providers <p>Anthropic is included in the base install \u2014 no extra needed.</p> <pre><code>pip install noxaudit\n</code></pre> <pre><code>pip install 'noxaudit[openai]'\n</code></pre> <pre><code>pip install 'noxaudit[google]'\n</code></pre> <pre><code>pip install 'noxaudit[mcp]'\n</code></pre> <pre><code>pip install 'noxaudit[openai,google,mcp]'\n</code></pre>"},{"location":"getting-started/installation/#api-key-setup","title":"API Key Setup","text":"<p>Set the API key for your chosen provider as an environment variable:</p> <pre><code># Anthropic (default)\nexport ANTHROPIC_API_KEY=sk-ant-...\n\n# OpenAI\nexport OPENAI_API_KEY=sk-...\n\n# Google Gemini\nexport GOOGLE_API_KEY=...\n</code></pre> <p>Tip</p> <p>Add your API key to a <code>.env</code> file in your project root and load it with <code>export $(grep -v '^#' .env | xargs)</code>. Make sure <code>.env</code> is in your <code>.gitignore</code>.</p>"},{"location":"getting-started/installation/#verify-installation","title":"Verify Installation","text":"<pre><code>noxaudit --version\nnoxaudit --help\n</code></pre>"},{"location":"getting-started/installation/#next-steps","title":"Next Steps","text":"<ul> <li>Quick Start \u2014 run your first audit in under a minute</li> <li>Configuration \u2014 set up <code>noxaudit.yml</code> for your project</li> </ul>"},{"location":"getting-started/quickstart/","title":"Quick Start","text":"<p>Get your first audit running in under a minute.</p>"},{"location":"getting-started/quickstart/#1-create-a-config-file","title":"1. Create a Config File","text":"<p>Create a <code>noxaudit.yml</code> in your project root:</p> <pre><code>repos:\n  - name: my-app\n    path: .\n    provider_rotation: [anthropic]\n\nmodel: claude-sonnet-4-5-20250929\n</code></pre> <p>Or copy the example config:</p> <pre><code>cp noxaudit.yml.example noxaudit.yml\n</code></pre>"},{"location":"getting-started/quickstart/#2-set-your-api-key","title":"2. Set Your API Key","text":"<pre><code>export ANTHROPIC_API_KEY=sk-ant-...\n</code></pre>"},{"location":"getting-started/quickstart/#3-run-an-audit","title":"3. Run an Audit","text":"<pre><code>noxaudit run --focus security\n</code></pre> <p>This sends your codebase's security-relevant files to the AI provider and returns a list of findings.</p>"},{"location":"getting-started/quickstart/#4-read-the-output","title":"4. Read the Output","text":"<p>Noxaudit prints a summary to the terminal:</p> <pre><code>my-app: 3 new findings\n</code></pre> <p>The full report is saved to <code>.noxaudit/reports/my-app/{date}-security.md</code>.</p> <p>View it with:</p> <pre><code>noxaudit report\n</code></pre>"},{"location":"getting-started/quickstart/#5-run-multiple-focus-areas","title":"5. Run Multiple Focus Areas","text":"<p>Combine focus areas in a single API call to save on input tokens (files are sent once, deduplicated):</p> <pre><code># Comma-separated\nnoxaudit run --focus security,performance\n\n# All 7 focus areas at once\nnoxaudit run --focus all\n</code></pre>"},{"location":"getting-started/quickstart/#whats-next","title":"What's Next","text":"<ul> <li>Your First Audit \u2014 end-to-end walkthrough with cost estimation, decisions, and reporting</li> <li>Configuration \u2014 full <code>noxaudit.yml</code> reference</li> <li>Focus Areas \u2014 what each audit checks</li> </ul>"},{"location":"guides/configuration/","title":"Configuration","text":"<p>Noxaudit is configured through a <code>noxaudit.yml</code> file in your project root.</p>"},{"location":"guides/configuration/#getting-started","title":"Getting Started","text":"<p>Copy the example config:</p> <pre><code>cp noxaudit.yml.example noxaudit.yml\n</code></pre> <p>Or create a minimal one:</p> <pre><code>repos:\n  - name: my-app\n    path: .\n</code></pre>"},{"location":"guides/configuration/#repos","title":"Repos","text":"<p>Define the repositories noxaudit should audit:</p> <pre><code>repos:\n  - name: my-app\n    path: .\n    provider_rotation: [anthropic]\n    exclude:\n      - vendor\n      - generated\n      - node_modules\n</code></pre> Field Description <code>name</code> Display name for the repo <code>path</code> Path to the repository root (<code>.</code> for current directory) <code>provider_rotation</code> AI providers to cycle through on each run <code>exclude</code> Directory names to skip during file gathering <p>You can audit multiple repos in a single config:</p> <pre><code>repos:\n  - name: backend\n    path: ../backend\n    provider_rotation: [anthropic]\n  - name: frontend\n    path: ../frontend\n    provider_rotation: [gemini]\n</code></pre>"},{"location":"guides/configuration/#model","title":"Model","text":"<p>Set the AI model to use:</p> <pre><code>model: claude-sonnet-4-5-20250929\n</code></pre> <p>The model must match the provider. See Providers for all available models.</p>"},{"location":"guides/configuration/#budget","title":"Budget","text":"<p>Set cost limits per run:</p> <pre><code>budget:\n  max_per_run_usd: 2.00\n  alert_threshold_usd: 1.50\n</code></pre> <p>See Cost Management for details.</p>"},{"location":"guides/configuration/#decisions","title":"Decisions","text":"<p>Configure decision memory:</p> <pre><code>decisions:\n  expiry_days: 90\n  path: .noxaudit/decisions.jsonl\n</code></pre> <p>Decisions expire after <code>expiry_days</code> so that previously dismissed findings get re-evaluated periodically. See Decision Memory for the full guide.</p>"},{"location":"guides/configuration/#reports","title":"Reports","text":"<p>Set the directory for saved reports:</p> <pre><code>reports_dir: .noxaudit/reports\n</code></pre> <p>Reports are saved as markdown files at <code>{reports_dir}/{repo}/{date}-{focus}.md</code>.</p>"},{"location":"guides/configuration/#notifications","title":"Notifications","text":"<p>Send summaries via Telegram:</p> <pre><code>notifications:\n  - channel: telegram\n    target: \"YOUR_CHAT_ID\"\n</code></pre> <p>Requires <code>TELEGRAM_BOT_TOKEN</code> and <code>TELEGRAM_CHAT_ID</code> environment variables. See Notifications.</p>"},{"location":"guides/configuration/#github-issues","title":"GitHub Issues","text":"<p>Auto-create GitHub issues for findings:</p> <pre><code>issues:\n  enabled: true\n  severity_threshold: medium\n  labels: [noxaudit]\n  assignees: [octocat]\n</code></pre> <p>See GitHub Issues.</p>"},{"location":"guides/configuration/#pre-pass","title":"Pre-pass","text":"<p>For large codebases, pre-pass uses a cheap model to classify files before the main audit:</p> <pre><code>prepass:\n  enabled: true\n  threshold_tokens: 600000\n  auto: true\n</code></pre> <p>See Cost Management for details.</p>"},{"location":"guides/configuration/#full-example","title":"Full Example","text":"<p>See <code>noxaudit.yml.example</code> or the Configuration Reference for every available option.</p>"},{"location":"guides/cost-management/","title":"Cost Management","text":"<p>Noxaudit is designed to be cheap enough to run daily. This guide covers estimation, budget controls, cost tracking, and optimization strategies.</p>"},{"location":"guides/cost-management/#estimating-cost","title":"Estimating Cost","text":"<p>Before running an audit, estimate the cost locally \u2014 no API key needed:</p> <pre><code>noxaudit estimate --focus security\n</code></pre> <pre><code>  my-app \u2014 security\n\n  Files:     42 files, 87K tokens\n  Provider:  anthropic (claude-sonnet-4-5)\n\n  Cost estimate: ~$0.14\n    Batch API 50% discount applied.\n\n  Alternatives:\n    gemini (gemini-2.0-flash)                ~$0.01   93% cheaper \u2014 recommended for daily audits\n    openai (gpt-5-nano)                      ~$0.01   95% cheaper\n    gemini (gemini-2.5-flash)                ~$0.03   79% cheaper\n\n  Monthly estimate: ~$4.20 (assuming daily runs)\n  Monthly with gemini-2.0-flash: ~$0.30\n</code></pre> <p>The estimate includes:</p> <ul> <li>File and token counts</li> <li>Cost with your current model (including batch discounts)</li> <li>Cheaper alternatives with savings percentages</li> <li>Monthly projection assuming daily runs</li> <li>Pre-pass potential for large codebases</li> </ul>"},{"location":"guides/cost-management/#budget-controls","title":"Budget Controls","text":"<p>Set maximum cost per run and alert thresholds:</p> <pre><code>budget:\n  max_per_run_usd: 2.00\n  alert_threshold_usd: 1.50\n</code></pre>"},{"location":"guides/cost-management/#cost-tracking","title":"Cost Tracking","text":"<p>The <code>status</code> command shows cost history for the last 30 days:</p> <pre><code>noxaudit status\n</code></pre> <pre><code>Cost (last 30 days):\n  Audits run:          12\n  Total input tokens:  1.2M\n  Total output tokens: 96K\n  Cache read tokens:   800K\n  Cache write tokens:  400K\n  Cache savings:       40.0% served from cache\n  Estimated spend:     $1.68\n  Avg per audit:       $0.14\n  Projected monthly:   ~$4.20\n\n  Last 5 audits:\n    Feb 27  security           claude-sonnet-4-5     42 files    95K tok  $0.14\n    Feb 26  patterns,hygiene   claude-sonnet-4-5     67 files   142K tok  $0.21\n    ...\n</code></pre> <p>Cost tracking uses retroactive repricing \u2014 stored token counts are recalculated with current pricing, so costs remain accurate even when pricing changes.</p>"},{"location":"guides/cost-management/#optimization-strategies","title":"Optimization Strategies","text":""},{"location":"guides/cost-management/#1-use-gemini-for-daily-audits","title":"1. Use Gemini for Daily Audits","text":"<p>Gemini 2.0 Flash costs ~$0.01 per run vs ~$0.14 for Claude Sonnet. For daily monitoring, the cheaper model catches most issues:</p> <pre><code>repos:\n  - name: my-app\n    provider_rotation: [gemini]\nmodel: gemini-2.0-flash\n</code></pre> <p>Reserve Claude for periodic deep dives:</p> <pre><code>noxaudit run --focus all --provider anthropic\n</code></pre>"},{"location":"guides/cost-management/#2-group-focus-areas","title":"2. Group Focus Areas","text":"<p>Running multiple focus areas together deduplicates source files, saving ~80% on input tokens:</p> <pre><code>noxaudit run --focus security,dependencies      # 1 API call\nnoxaudit run --focus patterns,hygiene,docs       # 1 API call\nnoxaudit run --focus performance,testing         # 1 API call\n</code></pre>"},{"location":"guides/cost-management/#3-use-batch-api","title":"3. Use Batch API","text":"<p>Anthropic's batch API provides a 50% discount. Use the submit/retrieve workflow:</p> <pre><code>noxaudit submit --focus security\n# ... wait ...\nnoxaudit retrieve\n</code></pre> <p>The GitHub Actions workflow uses this pattern automatically.</p>"},{"location":"guides/cost-management/#4-exclude-irrelevant-directories","title":"4. Exclude Irrelevant Directories","text":"<p>Reduce file count by excluding generated code, vendor directories, and other noise:</p> <pre><code>repos:\n  - name: my-app\n    path: .\n    exclude:\n      - vendor\n      - node_modules\n      - generated\n      - dist\n      - build\n      - .git\n</code></pre>"},{"location":"guides/cost-management/#5-pre-pass-triage","title":"5. Pre-pass Triage","text":"<p>For large codebases that exceed Anthropic's 200K token tier threshold, the pre-pass uses a cheap model (Gemini Flash) to classify files before the main audit:</p> <pre><code>prepass:\n  enabled: true\n  threshold_tokens: 600000\n</code></pre> <p>The pre-pass classifies each file as:</p> Priority Treatment High Full file content sent to main audit Medium Code snippets (key functions, classes) Low Structural map only (file outline) Skip Excluded entirely <p>This typically reduces token count by ~50%, keeping the main audit under the tiered pricing threshold.</p> <p>When <code>auto: true</code> (default), the pre-pass activates automatically when token count exceeds <code>threshold_tokens</code>.</p> <p>The <code>estimate</code> command shows pre-pass savings when applicable:</p> <pre><code>  Pre-pass estimate:\n    Gemini Flash triage: ~$0.02\n    Expected reduction: 450K \u2192 ~200K tokens (high: 12 files, medium: 25, low/skip: 45)\n    With pre-pass, claude-sonnet-4-5 stays in standard pricing tier ($3.00/M vs $6.00/M)\n</code></pre>"},{"location":"guides/cost-management/#cost-comparison","title":"Cost Comparison","text":"<p>Estimated cost per audit for a medium-sized codebase (~100 files, ~100K tokens):</p> Model Per Run Monthly (daily) <code>gemini-2.0-flash</code> ~$0.01 ~$0.30 <code>gpt-5-nano</code> ~$0.01 ~$0.30 <code>gpt-5-mini</code> ~$0.04 ~$1.20 <code>gemini-2.5-flash</code> ~$0.05 ~$1.50 <code>gemini-2.5-pro</code> ~$0.19 ~$5.70 <code>claude-sonnet-4-5</code> ~$0.14 ~$4.20 <code>gpt-5.2</code> ~$0.22 ~$6.60 <code>claude-opus-4-6</code> ~$0.38 ~$11.40 <p>All Anthropic costs include 50% batch API discount.</p>"},{"location":"guides/decisions/","title":"Decision Memory","text":"<p>Noxaudit's decision memory system prevents resolved findings from resurfacing in future audits. When you record a decision about a finding, noxaudit remembers it and filters it from future results.</p>"},{"location":"guides/decisions/#how-it-works","title":"How It Works","text":"<ol> <li>Noxaudit runs an audit and produces findings</li> <li>You review each finding and record a decision</li> <li>On subsequent runs, noxaudit checks each new finding against the decision history</li> <li>Matching findings are filtered out and reported as \"resolved\"</li> </ol> <p>Decisions are stored in <code>.noxaudit/decisions.jsonl</code> as one JSON object per line.</p>"},{"location":"guides/decisions/#decision-types","title":"Decision Types","text":"Type Meaning Use When <code>accept</code> You fixed the issue The finding is resolved by a code change <code>dismiss</code> Not a real issue False positive, test code, or not applicable <code>intentional</code> Deliberate choice You know about it and it's by design"},{"location":"guides/decisions/#recording-decisions","title":"Recording Decisions","text":"<pre><code># You fixed the issue\nnoxaudit decide abc123 --action accept --reason \"Fixed in PR #42\"\n\n# It's a false positive\nnoxaudit decide def456 --action dismiss --reason \"Test fixture, not real credentials\"\n\n# It's intentional\nnoxaudit decide ghi789 --action intentional --reason \"Permissive CORS for dev environment\"\n</code></pre> <p>The <code>--reason</code> flag is required \u2014 it documents why the decision was made for your future self and teammates.</p> <p>You can optionally record who made the decision:</p> <pre><code>noxaudit decide abc123 --action accept --reason \"Fixed\" --by \"alice\"\n</code></pre>"},{"location":"guides/decisions/#decision-expiry","title":"Decision Expiry","text":"<p>Decisions expire after a configurable number of days (default: 90). This ensures that old decisions are periodically re-evaluated.</p> <pre><code>decisions:\n  expiry_days: 90\n</code></pre> <p>When a decision expires, the finding will resurface in the next audit, giving you a chance to confirm it's still resolved.</p>"},{"location":"guides/decisions/#file-change-detection","title":"File Change Detection","text":"<p>Decisions are linked to the file they apply to. If the file changes (content hash differs), the decision is invalidated and the finding resurfaceeven if the decision hasn't expired.</p> <p>This prevents situations where a finding is dismissed but the file is later modified in a way that re-introduces the issue.</p>"},{"location":"guides/decisions/#baselining","title":"Baselining","text":"<p>When adding noxaudit to an existing project, you may have dozens of known issues. Instead of deciding on each one individually, baseline them all:</p> <pre><code># Run an audit first\nnoxaudit run --focus all\n\n# Baseline all findings\nnoxaudit baseline\n</code></pre> <p>This creates <code>dismiss</code> decisions for every current finding. Future runs will only show new issues.</p>"},{"location":"guides/decisions/#filtered-baselines","title":"Filtered Baselines","text":"<p>Baseline specific subsets:</p> <pre><code># Only security findings\nnoxaudit baseline --focus security\n\n# Only high-severity findings\nnoxaudit baseline --severity high\n\n# Specific repo\nnoxaudit baseline --repo my-app\n\n# Combine filters\nnoxaudit baseline --repo my-app --focus security --severity high\n</code></pre>"},{"location":"guides/decisions/#managing-baselines","title":"Managing Baselines","text":"<pre><code># See what's baselined\nnoxaudit baseline --list\n\n# Remove all baselines\nnoxaudit baseline --undo\n\n# Remove baselines with filters\nnoxaudit baseline --undo --repo my-app\nnoxaudit baseline --undo --focus security\nnoxaudit baseline --undo --severity low\n</code></pre>"},{"location":"guides/decisions/#sharing-decisions","title":"Sharing Decisions","text":"<p>Commit <code>.noxaudit/decisions.jsonl</code> to your repository to share decisions across the team. Everyone gets the same filtered view.</p> <pre><code>git add .noxaudit/decisions.jsonl\ngit commit -m \"Add noxaudit baseline decisions\"\n</code></pre>"},{"location":"guides/decisions/#mcp-integration","title":"MCP Integration","text":"<p>If you use the MCP server, you can record decisions directly from your AI coding tool:</p> <pre><code>Record decision: dismiss finding abc123 because \"test fixture\"\n</code></pre> <p>The MCP <code>record_decision</code> tool accepts the same parameters as the CLI.</p>"},{"location":"guides/focus-areas/","title":"Focus Areas","text":"<p>Noxaudit audits your codebase through 7 specialized focus areas. Each has its own prompt, file patterns, and severity guidelines.</p>"},{"location":"guides/focus-areas/#overview","title":"Overview","text":"Area What It Checks security Secrets, injection, auth, configuration vulnerabilities testing Missing coverage, edge cases, test quality, flaky tests patterns Architecture consistency, naming, duplication hygiene Dead code, orphaned files, stale config, TODOs docs README accuracy, stale comments, API doc drift dependencies Vulnerabilities, phantom deps, version management performance N+1 queries, missing caching, memory leaks, bundle size"},{"location":"guides/focus-areas/#security","title":"Security","text":"<p>Prompt focus: Secrets &amp; credentials, injection &amp; input handling, authentication &amp; authorization, configuration &amp; infrastructure, fail-open patterns, data exposure.</p> <p>Severity guide:</p> <ul> <li>HIGH \u2014 Exploitable now: leaked secrets, SQL/command injection, broken auth, SSRF</li> <li>MEDIUM \u2014 Requires specific conditions: missing rate limiting, overly permissive CORS, partial input validation</li> <li>LOW \u2014 Defense-in-depth: missing security headers, verbose error messages, no request signing</li> </ul> <p>File patterns: All source files, config files, environment templates.</p>"},{"location":"guides/focus-areas/#testing","title":"Testing","text":"<p>Prompt focus: Missing coverage for critical paths (auth, payments, data mutations), edge case gaps, test quality issues (flaky tests, meaningless assertions), test maintenance.</p> <p>Severity guide:</p> <ul> <li>HIGH \u2014 Critical path with zero test coverage (auth, payments, data mutations)</li> <li>MEDIUM \u2014 Feature with tests but missing important edge cases</li> <li>LOW \u2014 Test quality issues (naming, organization, minor gaps)</li> </ul> <p>File patterns: Test files, source files being tested.</p>"},{"location":"guides/focus-areas/#patterns","title":"Patterns","text":"<p>Prompt focus: Architectural consistency, error handling patterns, naming &amp; structure conventions, code duplication &amp; abstraction opportunities.</p> <p>Severity guide:</p> <ul> <li>HIGH \u2014 Inconsistency that could cause bugs (mixed error handling, conflicting patterns)</li> <li>MEDIUM \u2014 Inconsistency that hurts maintainability (naming drift, structural divergence)</li> <li>LOW \u2014 Style or organizational suggestions</li> </ul> <p>File patterns: All source files.</p>"},{"location":"guides/focus-areas/#hygiene","title":"Hygiene","text":"<p>Prompt focus: Dead code &amp; orphaned files, stale configuration, code debris (commented-out code, unresolved TODOs), unnecessary artifacts.</p> <p>Severity guide:</p> <ul> <li>HIGH \u2014 Dead code that could mislead or cause bugs if accidentally activated</li> <li>MEDIUM \u2014 Orphaned files, stale config, significant commented-out code</li> <li>LOW \u2014 Minor cleanup (old TODOs, small commented blocks)</li> </ul> <p>File patterns: All source files, config files.</p>"},{"location":"guides/focus-areas/#docs","title":"Docs","text":"<p>Prompt focus: README instructions that would fail if followed, code comments and docstrings that contradict the code, cross-reference validation, accuracy of API documentation.</p> <p>Severity guide:</p> <ul> <li>HIGH \u2014 Docs that would cause users to fail (wrong install commands, incorrect API usage)</li> <li>MEDIUM \u2014 Stale comments or docstrings that mislead developers</li> <li>LOW \u2014 Minor inaccuracies, formatting issues</li> </ul> <p>File patterns: Markdown files, source files with docstrings.</p>"},{"location":"guides/focus-areas/#dependencies","title":"Dependencies","text":"<p>Prompt focus: Known vulnerabilities &amp; supply chain risk, phantom/dead dependencies in manifests, version management &amp; lock file consistency, dependency weight &amp; redundancy.</p> <p>Severity guide:</p> <ul> <li>HIGH \u2014 Known vulnerability in a production dependency</li> <li>MEDIUM \u2014 Outdated dependency with available security patches, phantom dependency</li> <li>LOW \u2014 Minor version behind, dev dependency issues</li> </ul> <p>File patterns: Package manifests (<code>package.json</code>, <code>pyproject.toml</code>, <code>Gemfile</code>, etc.), lock files.</p>"},{"location":"guides/focus-areas/#performance","title":"Performance","text":"<p>Prompt focus: Database &amp; query patterns (N+1 queries, missing indexes), async &amp; concurrency issues, memory &amp; resource leaks, frontend &amp; asset optimization, build &amp; deploy performance.</p> <p>Severity guide:</p> <ul> <li>HIGH \u2014 Performance issue affecting production (N+1 in hot path, memory leak, unbounded queries)</li> <li>MEDIUM \u2014 Inefficiency that scales poorly (missing pagination, sequential where parallel works)</li> <li>LOW \u2014 Optimization opportunity (unnecessary re-renders, oversized bundles)</li> </ul> <p>File patterns: All source files, database migrations, build configs.</p>"},{"location":"guides/focus-areas/#running-focus-areas","title":"Running Focus Areas","text":"<pre><code># Single focus area\nnoxaudit run --focus security\n\n# Multiple areas in one API call (files deduplicated)\nnoxaudit run --focus security,performance\n\n# All 7 areas at once (default when no --focus specified)\nnoxaudit run --focus all\nnoxaudit run\n</code></pre> <p>When multiple focus areas run together, source files are gathered and deduplicated across all areas, then sent in a single API call. This saves ~80% on input tokens compared to running each separately.</p>"},{"location":"guides/notifications/","title":"Notifications","text":"<p>Noxaudit can send audit summaries via Telegram after each run.</p>"},{"location":"guides/notifications/#telegram-setup","title":"Telegram Setup","text":""},{"location":"guides/notifications/#1-create-a-bot","title":"1. Create a Bot","text":"<ol> <li>Message @BotFather on Telegram</li> <li>Send <code>/newbot</code> and follow the prompts</li> <li>Copy the bot token (looks like <code>123456789:ABCdefGhIjKlMnOpQrStUvWxYz</code>)</li> </ol>"},{"location":"guides/notifications/#2-get-your-chat-id","title":"2. Get Your Chat ID","text":"<ol> <li>Start a conversation with your bot</li> <li>Send any message</li> <li>Visit <code>https://api.telegram.org/bot&lt;YOUR_BOT_TOKEN&gt;/getUpdates</code></li> <li>Find <code>\"chat\":{\"id\":YOUR_CHAT_ID}</code> in the response</li> </ol>"},{"location":"guides/notifications/#3-configure-noxaudit","title":"3. Configure Noxaudit","text":"<p>Set environment variables:</p> <pre><code>export TELEGRAM_BOT_TOKEN=123456789:ABCdefGhIjKlMnOpQrStUvWxYz\nexport TELEGRAM_CHAT_ID=YOUR_CHAT_ID\n</code></pre> <p>Add to your <code>noxaudit.yml</code>:</p> <pre><code>notifications:\n  - channel: telegram\n    target: \"YOUR_CHAT_ID\"\n</code></pre>"},{"location":"guides/notifications/#notification-format","title":"Notification Format","text":"<p>After each audit, noxaudit sends a message like:</p> <pre><code>\ud83d\udd12 Security Audit \u2014 my-app\n3 new findings: \ud83d\udd34 1 high, \ud83d\udfe1 2 medium\n\n\u26a0\ufe0f SQL interpolation in query builder\n   src/db/queries.ts\n\u2139\ufe0f Console.log with request body\n   src/middleware/auth.ts\n\u2139\ufe0f Permissive CORS in production config\n   src/config/cors.ts\n\n\u2705 5 previous findings still resolved\n</code></pre> <p>When there are no new findings:</p> <pre><code>\ud83d\udd12 Security Audit \u2014 my-app\nNo new findings \u2713\n\n\u2705 5 previous findings still resolved\n</code></pre>"},{"location":"guides/notifications/#ci-usage","title":"CI Usage","text":"<p>In GitHub Actions, pass credentials as secrets:</p> <pre><code>- uses: atriumn/noxaudit/action@main\n  with:\n    anthropic-api-key: ${{ secrets.ANTHROPIC_API_KEY }}\n    telegram-bot-token: ${{ secrets.TELEGRAM_BOT_TOKEN }}\n    telegram-chat-id: ${{ secrets.TELEGRAM_CHAT_ID }}\n</code></pre> <p>See GitHub Actions for the full workflow.</p>"},{"location":"guides/notifications/#multiple-channels","title":"Multiple Channels","text":"<p>You can configure multiple notification channels:</p> <pre><code>notifications:\n  - channel: telegram\n    target: \"CHAT_ID_1\"\n  - channel: telegram\n    target: \"CHAT_ID_2\"\n</code></pre> <p>Each channel receives the same summary.</p>"},{"location":"guides/scheduling/","title":"Usage Patterns","text":"<p>Noxaudit is a simple tool: you tell it what to audit, it audits. The <code>--focus</code> flag controls which focus areas to run. With no <code>--focus</code>, it defaults to all 7 areas.</p> <p>This guide shows common usage patterns from on-demand runs to automated CI schedules.</p>"},{"location":"guides/scheduling/#on-demand","title":"On-Demand","text":"<p>Run a specific audit whenever you need it:</p> <pre><code># Security audit\nnoxaudit run --focus security\n\n# Multiple focus areas in one API call (files deduplicated)\nnoxaudit run --focus security,performance\n\n# All 7 focus areas at once\nnoxaudit run --focus all\n\n# Default: all focus areas\nnoxaudit run\n</code></pre>"},{"location":"guides/scheduling/#full-audit","title":"Full Audit","text":"<p>Run all focus areas in a single API call. Source files are gathered and deduplicated across all areas, saving ~80% on input tokens compared to running each separately:</p> <pre><code>noxaudit run\n# or equivalently:\nnoxaudit run --focus all\n</code></pre>"},{"location":"guides/scheduling/#daily-ci-with-github-actions","title":"Daily CI with GitHub Actions","text":"<p>Run a full audit every morning:</p> <pre><code>name: Noxaudit Audit\non:\n  schedule:\n    - cron: '0 6 * * *'  # 6am UTC daily\n\njobs:\n  audit:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v4\n\n      - uses: atriumn/noxaudit/action@main\n        with:\n          anthropic-api-key: ${{ secrets.ANTHROPIC_API_KEY }}\n</code></pre> <p>See GitHub Actions for the full workflow including batch API support and SARIF upload.</p>"},{"location":"guides/scheduling/#weekly-rotation-via-cron","title":"Weekly Rotation via Cron","text":"<p>Spread focus areas across the week using separate cron entries:</p> <pre><code># Monday: security\n0 6 * * 1 cd /path/to/project &amp;&amp; noxaudit run --focus security\n\n# Wednesday: patterns, hygiene, docs\n0 6 * * 3 cd /path/to/project &amp;&amp; noxaudit run --focus patterns,hygiene,docs\n\n# Friday: performance, dependencies\n0 6 * * 5 cd /path/to/project &amp;&amp; noxaudit run --focus performance,dependencies\n</code></pre> <p>Or with GitHub Actions using multiple workflow files or workflow dispatch.</p>"},{"location":"guides/scheduling/#tiered-approach","title":"Tiered Approach","text":"<p>Use a cheap model for daily monitoring and a more capable model for periodic deep dives:</p> <pre><code># Daily: Gemini Flash (~$0.01/run)\nnoxaudit run --provider gemini\n\n# Monthly deep dive: Claude (~$0.14/run)\nnoxaudit run --focus all --provider anthropic\n</code></pre> <p>See Cost Management for model pricing comparisons.</p>"},{"location":"guides/scheduling/#combined-focus-for-token-savings","title":"Combined Focus for Token Savings","text":"<p>When multiple focus areas run together, source files are sent once instead of repeated per area:</p> Strategy API Calls Token Multiplier One area per run N runs 1x per area Grouped (2-3 areas) fewer runs ~1x total (files deduped) All at once 1 run ~1x total <p>The trade-off: combined runs produce more findings per notification, which can be harder to triage. Many teams find 2-3 areas per call to be the sweet spot.</p> <pre><code># Group related areas\nnoxaudit run --focus security,dependencies\nnoxaudit run --focus patterns,hygiene,docs\n</code></pre>"},{"location":"integrations/github-actions/","title":"GitHub Actions","text":"<p>Noxaudit includes a GitHub Action for automated nightly audits with batch API support.</p>"},{"location":"integrations/github-actions/#basic-workflow","title":"Basic Workflow","text":"<p>Create <code>.github/workflows/noxaudit.yml</code>:</p> <pre><code>name: Noxaudit Audit\non:\n  schedule:\n    - cron: '0 6 * * *'  # 6am UTC daily\n  workflow_dispatch:\n    inputs:\n      focus:\n        description: 'Focus area(s) \u2014 name, comma-separated, or \"all\"'\n        type: string\n\njobs:\n  audit:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v4\n\n      - uses: atriumn/noxaudit/action@main\n        with:\n          anthropic-api-key: ${{ secrets.ANTHROPIC_API_KEY }}\n          focus: ${{ inputs.focus }}\n          telegram-bot-token: ${{ secrets.TELEGRAM_BOT_TOKEN }}\n          telegram-chat-id: ${{ secrets.TELEGRAM_CHAT_ID }}\n</code></pre>"},{"location":"integrations/github-actions/#submitretrieve-workflow","title":"Submit/Retrieve Workflow","text":"<p>For Anthropic's batch API (50% cost savings), use the two-step workflow:</p> <pre><code>name: Noxaudit Audit\non:\n  schedule:\n    - cron: '0 6 * * *'  # Submit at 6am UTC\n  workflow_dispatch:\n    inputs:\n      focus:\n        description: 'Focus area(s)'\n        type: string\n      mode:\n        description: 'Mode: submit or retrieve'\n        type: choice\n        options: [submit, retrieve]\n        default: submit\n\njobs:\n  audit:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v4\n\n      - uses: atriumn/noxaudit/action@main\n        with:\n          mode: ${{ inputs.mode || 'submit' }}\n          anthropic-api-key: ${{ secrets.ANTHROPIC_API_KEY }}\n          focus: ${{ inputs.focus }}\n          telegram-bot-token: ${{ secrets.TELEGRAM_BOT_TOKEN }}\n          telegram-chat-id: ${{ secrets.TELEGRAM_CHAT_ID }}\n</code></pre> <p>Then schedule a second workflow to retrieve results:</p> <pre><code>name: Noxaudit Retrieve\non:\n  schedule:\n    - cron: '0 8 * * *'  # Retrieve at 8am UTC (2 hours later)\n\njobs:\n  retrieve:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v4\n\n      - uses: atriumn/noxaudit/action@main\n        with:\n          mode: retrieve\n          anthropic-api-key: ${{ secrets.ANTHROPIC_API_KEY }}\n          telegram-bot-token: ${{ secrets.TELEGRAM_BOT_TOKEN }}\n          telegram-chat-id: ${{ secrets.TELEGRAM_CHAT_ID }}\n</code></pre>"},{"location":"integrations/github-actions/#action-inputs","title":"Action Inputs","text":"Input Description Required Default <code>mode</code> <code>submit</code> or <code>retrieve</code> no <code>submit</code> <code>focus</code> Focus area(s): name, comma-separated, or <code>all</code> no <code>all</code> <code>config</code> Path to <code>noxaudit.yml</code> no <code>noxaudit.yml</code> <code>anthropic-api-key</code> Anthropic API key no \u2014 <code>openai-api-key</code> OpenAI API key no \u2014 <code>google-api-key</code> Google API key no \u2014 <code>output-format</code> <code>markdown</code> or <code>sarif</code> no <code>markdown</code> <code>upload-sarif</code> Upload SARIF to GitHub Code Scanning no <code>false</code> <code>telegram-bot-token</code> Telegram bot token no \u2014 <code>telegram-chat-id</code> Telegram chat ID no \u2014"},{"location":"integrations/github-actions/#sarif-upload","title":"SARIF Upload","text":"<p>Generate SARIF output and upload to GitHub Code Scanning:</p> <pre><code>- uses: atriumn/noxaudit/action@main\n  with:\n    anthropic-api-key: ${{ secrets.ANTHROPIC_API_KEY }}\n    output-format: sarif\n    upload-sarif: true\n</code></pre> <p>This creates alerts in your repository's Security tab. See SARIF &amp; Code Scanning for details.</p>"},{"location":"integrations/github-actions/#artifacts","title":"Artifacts","text":"<p>The action uploads audit reports and SARIF files as workflow artifacts with 30-day retention. Pending batch state is cached between submit and retrieve runs.</p>"},{"location":"integrations/github-actions/#secrets-setup","title":"Secrets Setup","text":"<p>Add these secrets to your repository (Settings \u2192 Secrets \u2192 Actions):</p> Secret Provider <code>ANTHROPIC_API_KEY</code> Anthropic <code>OPENAI_API_KEY</code> OpenAI <code>GOOGLE_API_KEY</code> Google Gemini <code>TELEGRAM_BOT_TOKEN</code> Telegram notifications <code>TELEGRAM_CHAT_ID</code> Telegram notifications"},{"location":"integrations/github-issues/","title":"GitHub Issues","text":"<p>Noxaudit can automatically create GitHub issues for audit findings, making it easy to track and assign remediation work.</p>"},{"location":"integrations/github-issues/#setup","title":"Setup","text":"<p>Enable issue creation in <code>noxaudit.yml</code>:</p> <pre><code>issues:\n  enabled: true\n  severity_threshold: medium\n  labels: [noxaudit]\n  assignees: [octocat]\n</code></pre> <p>Set the <code>GITHUB_TOKEN</code> environment variable (automatically available in GitHub Actions):</p> <pre><code>export GITHUB_TOKEN=ghp_...\n</code></pre>"},{"location":"integrations/github-issues/#configuration","title":"Configuration","text":"Key Type Default Description <code>issues.enabled</code> bool <code>false</code> Enable auto-creation of issues <code>issues.severity_threshold</code> string <code>medium</code> Minimum severity: <code>low</code>, <code>medium</code>, or <code>high</code> <code>issues.labels</code> list <code>[noxaudit]</code> Labels applied to created issues <code>issues.assignees</code> list <code>[]</code> GitHub users to assign <code>issues.repository_url</code> string \u2014 Repository URL for issue footer"},{"location":"integrations/github-issues/#how-it-works","title":"How It Works","text":"<p>After an audit completes, noxaudit:</p> <ol> <li>Checks each finding against the severity threshold</li> <li>Searches for existing issues with the same finding ID (to avoid duplicates)</li> <li>Creates new issues for findings that don't have one yet</li> <li>Applies configured labels and assignees</li> </ol>"},{"location":"integrations/github-issues/#deduplication","title":"Deduplication","text":"<p>Each issue includes a marker comment with the finding ID. Before creating a new issue, noxaudit checks if an issue with that marker already exists. This prevents duplicate issues across runs.</p>"},{"location":"integrations/github-issues/#rate-limiting","title":"Rate Limiting","text":"<p>Issue creation includes a 1-second delay between API calls to avoid hitting GitHub's rate limits.</p>"},{"location":"integrations/github-issues/#issue-format","title":"Issue Format","text":"<p>Created issues include:</p> <ul> <li>Title: Finding title with severity indicator</li> <li>Body: Full finding description, affected file, and suggested fix</li> <li>Labels: Configured labels (default: <code>noxaudit</code>)</li> <li>Assignees: Configured assignees</li> <li>Footer: Link back to the noxaudit repository</li> </ul>"},{"location":"integrations/github-issues/#github-actions","title":"GitHub Actions","text":"<p>In GitHub Actions, the <code>GITHUB_TOKEN</code> is automatically available:</p> <pre><code>jobs:\n  audit:\n    runs-on: ubuntu-latest\n    permissions:\n      issues: write\n    steps:\n      - uses: actions/checkout@v4\n\n      - uses: atriumn/noxaudit/action@main\n        with:\n          anthropic-api-key: ${{ secrets.ANTHROPIC_API_KEY }}\n        env:\n          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}\n</code></pre> <p>Make sure the job has <code>issues: write</code> permission.</p>"},{"location":"integrations/mcp-server/","title":"MCP Server","text":"<p>Noxaudit includes a Model Context Protocol (MCP) server that exposes audit data to AI coding tools like Claude Code, Cursor, and Windsurf.</p>"},{"location":"integrations/mcp-server/#installation","title":"Installation","text":"<p>Install with the MCP extra:</p> <pre><code>pip install 'noxaudit[mcp]'\n</code></pre>"},{"location":"integrations/mcp-server/#starting-the-server","title":"Starting the Server","text":"<pre><code>noxaudit mcp-server\n</code></pre> <p>The server runs over stdio and is designed to be launched by your AI coding tool.</p>"},{"location":"integrations/mcp-server/#configuring-in-ai-coding-tools","title":"Configuring in AI Coding Tools","text":""},{"location":"integrations/mcp-server/#claude-code","title":"Claude Code","text":"<p>Add to your project's <code>.mcp.json</code>:</p> <pre><code>{\n  \"mcpServers\": {\n    \"noxaudit\": {\n      \"command\": \"noxaudit\",\n      \"args\": [\"mcp-server\"]\n    }\n  }\n}\n</code></pre>"},{"location":"integrations/mcp-server/#cursor-windsurf","title":"Cursor / Windsurf","text":"<p>Add to your MCP configuration:</p> <pre><code>{\n  \"noxaudit\": {\n    \"command\": \"noxaudit\",\n    \"args\": [\"mcp-server\"]\n  }\n}\n</code></pre>"},{"location":"integrations/mcp-server/#available-tools","title":"Available Tools","text":"<p>The MCP server exposes 5 tools:</p>"},{"location":"integrations/mcp-server/#get_findings","title":"<code>get_findings</code>","text":"<p>Query findings from the latest audit with optional filters.</p> Parameter Type Description <code>file</code> string Filter by file path (substring match) <code>severity</code> string Filter by severity: <code>low</code>, <code>medium</code>, or <code>high</code> <code>focus</code> string Filter by focus area <code>limit</code> int Maximum number of findings to return <p>Example: \"Show me all high-severity security findings in auth.py\"</p>"},{"location":"integrations/mcp-server/#get_health_summary","title":"<code>get_health_summary</code>","text":"<p>Get a repository health score (0-100) with a breakdown of findings by severity and focus area.</p> <p>No parameters required.</p> <p>Example: \"What's the health score for this repo?\"</p>"},{"location":"integrations/mcp-server/#get_findings_for_diff","title":"<code>get_findings_for_diff</code>","text":"<p>Find audit findings that apply to files with uncommitted changes. Useful for checking if your current work introduces issues that were previously flagged.</p> <p>No parameters required.</p> <p>Example: \"Do any of my changes touch files with known findings?\"</p>"},{"location":"integrations/mcp-server/#record_decision","title":"<code>record_decision</code>","text":"<p>Record a decision about a finding, identical to <code>noxaudit decide</code>.</p> Parameter Type Description <code>finding_id</code> string The finding ID to decide on <code>action</code> string <code>accept</code>, <code>dismiss</code>, or <code>intentional</code> <code>reason</code> string Why this decision was made <p>Example: \"Dismiss finding abc123 because it's a test fixture\"</p>"},{"location":"integrations/mcp-server/#run_audit","title":"<code>run_audit</code>","text":"<p>Run an on-demand audit from within your coding tool.</p> Parameter Type Description <code>focus</code> string Focus area(s) to audit <p>Example: \"Run a security audit on this project\"</p>"},{"location":"integrations/mcp-server/#use-cases","title":"Use Cases","text":"<ul> <li>During development: Ask your AI assistant \"are there any security findings in the file I'm editing?\"</li> <li>Code review: \"Show me the health summary for this repo\"</li> <li>Triage: \"Dismiss all low-severity hygiene findings\"</li> <li>On-demand audits: \"Run a quick security audit\" without leaving your editor</li> </ul>"},{"location":"integrations/sarif/","title":"SARIF &amp; Code Scanning","text":"<p>Noxaudit can output findings in SARIF (Static Analysis Results Interchange Format), which integrates with GitHub Code Scanning to show findings as security alerts in your repository.</p>"},{"location":"integrations/sarif/#generating-sarif-output","title":"Generating SARIF Output","text":"<p>Use the <code>--format sarif</code> flag:</p> <pre><code>noxaudit run --focus security --format sarif\n</code></pre> <p>SARIF files are saved to <code>.noxaudit/reports/{repo}/{date}-{focus}.sarif</code>.</p>"},{"location":"integrations/sarif/#sarif-format","title":"SARIF Format","text":"<p>Noxaudit generates SARIF 2.1.0 documents with:</p> <ul> <li>Tool information: Noxaudit name and version</li> <li>Rules: One rule per finding type with description and help text</li> <li>Results: Individual findings with file locations, severity, and fix suggestions</li> <li>Fingerprints: Stable identifiers for deduplication across runs</li> </ul>"},{"location":"integrations/sarif/#severity-mapping","title":"Severity Mapping","text":"Noxaudit Severity SARIF Level HIGH <code>error</code> MEDIUM <code>warning</code> LOW <code>note</code>"},{"location":"integrations/sarif/#github-code-scanning","title":"GitHub Code Scanning","text":""},{"location":"integrations/sarif/#manual-upload","title":"Manual Upload","text":"<p>Upload SARIF results using the GitHub CLI:</p> <pre><code>noxaudit run --focus security --format sarif\ngh api \\\n  -X POST \\\n  -H \"Accept: application/vnd.github+json\" \\\n  /repos/OWNER/REPO/code-scanning/sarifs \\\n  -f \"sarif=$(gzip -c .noxaudit/reports/my-app/*-security.sarif | base64)\"\n</code></pre>"},{"location":"integrations/sarif/#github-actions","title":"GitHub Actions","text":"<p>Use the action's built-in SARIF upload:</p> <pre><code>- uses: atriumn/noxaudit/action@main\n  with:\n    anthropic-api-key: ${{ secrets.ANTHROPIC_API_KEY }}\n    output-format: sarif\n    upload-sarif: true\n</code></pre> <p>Or use the standard <code>github/codeql-action/upload-sarif</code> action:</p> <pre><code>- uses: atriumn/noxaudit/action@main\n  with:\n    anthropic-api-key: ${{ secrets.ANTHROPIC_API_KEY }}\n    output-format: sarif\n\n- uses: github/codeql-action/upload-sarif@v3\n  with:\n    sarif_file: .noxaudit/reports/\n</code></pre>"},{"location":"integrations/sarif/#viewing-alerts","title":"Viewing Alerts","text":"<p>Once uploaded, findings appear in your repository's Security tab under Code Scanning alerts. Each alert shows:</p> <ul> <li>Severity level</li> <li>Affected file and line</li> <li>Finding description</li> <li>Suggested fix</li> </ul> <p>Alerts persist across runs and are automatically closed when the finding is no longer reported.</p>"},{"location":"integrations/sarif/#batch-workflow","title":"Batch Workflow","text":"<p>SARIF output also works with the submit/retrieve workflow:</p> <pre><code>noxaudit submit --focus security\n# ... wait ...\nnoxaudit retrieve --format sarif\n</code></pre> <p>Or in GitHub Actions:</p> <pre><code>- uses: atriumn/noxaudit/action@main\n  with:\n    mode: retrieve\n    anthropic-api-key: ${{ secrets.ANTHROPIC_API_KEY }}\n    output-format: sarif\n    upload-sarif: true\n</code></pre>"},{"location":"reference/cli/","title":"CLI Reference","text":"<p>Noxaudit provides 9 commands. All commands accept a <code>--config</code> / <code>-c</code> flag to specify the path to <code>noxaudit.yml</code> (defaults to the current directory).</p> <pre><code>noxaudit [--config PATH] &lt;command&gt; [options]\n</code></pre>"},{"location":"reference/cli/#run","title":"<code>run</code>","text":"<p>Run an audit synchronously. Sends files to the AI provider, waits for results, and prints a summary.</p> <pre><code>noxaudit run [options]\n</code></pre> Flag Short Description Default <code>--repo</code> <code>-r</code> Audit a specific repo all repos <code>--focus</code> <code>-f</code> Focus area(s): name, comma-separated, or <code>all</code> <code>all</code> <code>--provider</code> <code>-p</code> AI provider override from config <code>--dry-run</code> Show what would be audited without calling AI off <code>--format</code> <code>-F</code> Output format: <code>markdown</code> or <code>sarif</code> <code>markdown</code> <pre><code># Run all focus areas (default)\nnoxaudit run\n\n# Security audit only\nnoxaudit run --focus security\n\n# Multiple focus areas in one call\nnoxaudit run --focus security,performance\n\n# All focus areas\nnoxaudit run --focus all\n\n# Dry run to see file counts\nnoxaudit run --focus security --dry-run\n\n# SARIF output for GitHub Code Scanning\nnoxaudit run --focus security --format sarif\n</code></pre>"},{"location":"reference/cli/#submit","title":"<code>submit</code>","text":"<p>Submit a batch audit. Returns immediately \u2014 results are retrieved later with <code>retrieve</code>. Useful for Anthropic's batch API which offers 50% cost savings.</p> <pre><code>noxaudit submit [options]\n</code></pre> Flag Short Description Default <code>--repo</code> <code>-r</code> Audit a specific repo all repos <code>--focus</code> <code>-f</code> Focus area(s): name, comma-separated, or <code>all</code> <code>all</code> <code>--provider</code> <code>-p</code> AI provider override from config <code>--dry-run</code> Show what would be submitted without calling AI off <pre><code>noxaudit submit --focus security\n# Submitted 1 batch(es). Run `noxaudit retrieve` to get results.\n</code></pre>"},{"location":"reference/cli/#retrieve","title":"<code>retrieve</code>","text":"<p>Retrieve results from a previously submitted batch audit.</p> <pre><code>noxaudit retrieve [options]\n</code></pre> Flag Short Description Default <code>--pending-file</code> Path to pending batch JSON file auto-detect <code>--format</code> <code>-F</code> Output format: <code>markdown</code> or <code>sarif</code> <code>markdown</code> <pre><code>noxaudit retrieve\nnoxaudit retrieve --format sarif\n</code></pre>"},{"location":"reference/cli/#decide","title":"<code>decide</code>","text":"<p>Record a decision about a finding. Decisions prevent the finding from resurfacing in future audits.</p> <pre><code>noxaudit decide &lt;finding_id&gt; --action &lt;type&gt; --reason &lt;text&gt;\n</code></pre> Flag Short Description Required <code>--action</code> <code>-a</code> Decision type: <code>accept</code>, <code>dismiss</code>, or <code>intentional</code> yes <code>--reason</code> <code>-r</code> Why this decision was made yes <code>--by</code> <code>-b</code> Who made this decision <code>user</code> <pre><code>noxaudit decide abc123 --action accept --reason \"Fixed in PR #42\"\nnoxaudit decide def456 --action dismiss --reason \"Test fixture\"\nnoxaudit decide ghi789 --action intentional --reason \"Dev-only CORS\"\n</code></pre>"},{"location":"reference/cli/#baseline","title":"<code>baseline</code>","text":"<p>Baseline existing findings to suppress them in future audits. Useful when adding noxaudit to an existing project.</p> <pre><code>noxaudit baseline [options]\n</code></pre> Flag Short Description Default <code>--repo</code> <code>-r</code> Baseline a specific repo all repos <code>--focus</code> <code>-f</code> Baseline specific focus area(s) all <code>--severity</code> <code>-s</code> Baseline specific severities (comma-separated) all <code>--undo</code> Remove baseline decisions off <code>--list</code> Show baselined findings off <pre><code># Baseline all current findings\nnoxaudit baseline\n\n# Baseline only high-severity security findings\nnoxaudit baseline --focus security --severity high\n\n# See what's baselined\nnoxaudit baseline --list\n\n# Remove all baselines\nnoxaudit baseline --undo\n\n# Remove baselines for a specific repo\nnoxaudit baseline --undo --repo my-app\n</code></pre>"},{"location":"reference/cli/#status","title":"<code>status</code>","text":"<p>Show current configuration, focus areas, decisions, and cost tracking.</p> <pre><code>noxaudit status\n</code></pre> <p>Displays:</p> <ul> <li>Configured repos and providers</li> <li>Available focus areas with descriptions</li> <li>Active model</li> <li>Decision and report paths</li> <li>Cost summary for the last 30 days (audits run, tokens, spend, projected monthly)</li> <li>Last 5 audit details</li> </ul>"},{"location":"reference/cli/#report","title":"<code>report</code>","text":"<p>Show the latest audit report.</p> <pre><code>noxaudit report [options]\n</code></pre> Flag Short Description Default <code>--repo</code> <code>-r</code> Show report for a specific repo latest <code>--focus</code> <code>-f</code> Show report for a specific focus area latest <pre><code>noxaudit report\nnoxaudit report --repo my-app --focus security\n</code></pre>"},{"location":"reference/cli/#estimate","title":"<code>estimate</code>","text":"<p>Estimate audit cost before running. No API keys needed \u2014 counts files and tokens locally.</p> <pre><code>noxaudit estimate [options]\n</code></pre> Flag Short Description Default <code>--repo</code> <code>-r</code> Estimate for a specific repo all repos <code>--focus</code> <code>-f</code> Focus area(s): name, comma-separated, or <code>all</code> <code>all</code> <code>--provider</code> <code>-p</code> AI provider override from config <pre><code>noxaudit estimate --focus security\nnoxaudit estimate --focus all --provider gemini\n</code></pre> <p>The estimate includes:</p> <ul> <li>File and token counts</li> <li>Cost with current model</li> <li>Cheaper alternatives with savings percentages</li> <li>Pre-pass potential (for large codebases on Anthropic)</li> <li>Monthly projection assuming daily runs</li> </ul>"},{"location":"reference/cli/#mcp-server","title":"<code>mcp-server</code>","text":"<p>Start the MCP (Model Context Protocol) server for AI coding tool integration.</p> <pre><code>noxaudit mcp-server\n</code></pre> <p>Requires the <code>mcp</code> extra:</p> <pre><code>pip install 'noxaudit[mcp]'\n</code></pre> <p>See MCP Server for details.</p>"},{"location":"reference/cli/#global-options","title":"Global Options","text":"Flag Short Description <code>--config</code> <code>-c</code> Path to <code>noxaudit.yml</code> <code>--version</code> Show version <code>--help</code> Show help"},{"location":"reference/configuration/","title":"Configuration Reference","text":"<p>All configuration lives in <code>noxaudit.yml</code> in your project root.</p>"},{"location":"reference/configuration/#complete-reference","title":"Complete Reference","text":"Key Type Default Description <code>repos</code> list <code>[]</code> List of repositories to audit <code>repos[].name</code> string \u2014 Repository display name <code>repos[].path</code> string \u2014 Path to repository root <code>repos[].provider_rotation</code> list[string] <code>[gemini]</code> AI providers to rotate through <code>repos[].exclude</code> list[string] <code>[]</code> Directory names to exclude from file gathering <code>model</code> string <code>claude-sonnet-4-5-20250929</code> AI model to use (any supported model ID) <code>budget</code> mapping \u2014 Cost control settings <code>budget.max_per_run_usd</code> float <code>2.00</code> Maximum cost per audit run in USD <code>budget.alert_threshold_usd</code> float <code>1.50</code> Cost threshold that triggers a warning <code>decisions</code> mapping \u2014 Decision memory settings <code>decisions.expiry_days</code> int <code>90</code> Days before a decision expires <code>decisions.path</code> string <code>.noxaudit/decisions.jsonl</code> Path to decision storage file <code>reports_dir</code> string <code>.noxaudit/reports</code> Directory for saved reports <code>notifications</code> list <code>[]</code> Notification channel configurations <code>notifications[].channel</code> string <code>telegram</code> Notification channel type <code>notifications[].target</code> string <code>\"\"</code> Channel-specific target (e.g., Telegram chat ID) <code>notifications[].webhook</code> string <code>\"\"</code> Webhook URL (for webhook-based channels) <code>issues</code> mapping \u2014 GitHub issue creation settings <code>issues.enabled</code> bool <code>false</code> Enable auto-creation of GitHub issues <code>issues.severity_threshold</code> string <code>medium</code> Minimum severity for issue creation: <code>low</code>, <code>medium</code>, or <code>high</code> <code>issues.labels</code> list[string] <code>[noxaudit]</code> Labels to apply to created issues <code>issues.assignees</code> list[string] <code>[]</code> GitHub users to assign to created issues <code>issues.repository_url</code> string <code>https://github.com/atriumn/noxaudit</code> Repository URL for issue footer links <code>prepass</code> mapping \u2014 Pre-pass file filtering settings <code>prepass.enabled</code> bool <code>false</code> Enable pre-pass file classification <code>prepass.threshold_tokens</code> int <code>600000</code> Token count above which pre-pass activates <code>prepass.auto</code> bool <code>true</code> Auto-enable pre-pass when token count exceeds threshold"},{"location":"reference/configuration/#example-configuration","title":"Example Configuration","text":"<pre><code>repos:\n  - name: my-app\n    path: .\n    provider_rotation: [anthropic]\n    exclude:\n      - vendor\n      - generated\n\nmodel: claude-sonnet-4-5-20250929\n\nbudget:\n  max_per_run_usd: 2.00\n  alert_threshold_usd: 1.50\n\ndecisions:\n  expiry_days: 90\n  path: .noxaudit/decisions.jsonl\n\nreports_dir: .noxaudit/reports\n\nnotifications:\n  - channel: telegram\n    target: \"YOUR_CHAT_ID\"\n\nissues:\n  enabled: false\n  severity_threshold: medium\n  labels: [noxaudit]\n  assignees: []\n</code></pre>"},{"location":"reference/configuration/#deprecated-keys","title":"Deprecated Keys","text":"<p>The <code>schedule</code> and <code>frames</code> config keys are deprecated and ignored. If present, a deprecation warning is emitted. Use <code>--focus</code> on the command line or set up cron-based scheduling instead. See Usage Patterns for examples.</p>"},{"location":"reference/configuration/#environment-variables","title":"Environment Variables","text":"Variable Description <code>ANTHROPIC_API_KEY</code> API key for Anthropic Claude <code>OPENAI_API_KEY</code> API key for OpenAI GPT <code>GOOGLE_API_KEY</code> API key for Google Gemini <code>TELEGRAM_BOT_TOKEN</code> Telegram bot token for notifications <code>TELEGRAM_CHAT_ID</code> Telegram chat ID for notifications <code>GITHUB_TOKEN</code> GitHub token for issue creation"},{"location":"reference/providers/","title":"Provider Reference","text":"<p>Noxaudit supports three AI providers. You can rotate between them to get different perspectives on your codebase.</p>"},{"location":"reference/providers/#provider-comparison","title":"Provider Comparison","text":"Provider Model Input $/M Output $/M Context Batch Discount Notes Anthropic <code>claude-opus-4-6</code> $5.00 $25.00 200K 50% Deep analysis, tiered pricing above 200K Anthropic <code>claude-sonnet-4-5</code> $3.00 $15.00 200K 50% Default. Strong security reasoning Google <code>gemini-2.5-pro</code> $1.25 $10.00 1M 50% Large context, tiered pricing above 200K Google <code>gemini-2.5-flash</code> $0.30 $2.50 1M 50% Pre-pass triage model Google <code>gemini-3-flash</code> $0.50 $3.00 1M 50% Next-gen flash Google <code>gemini-2.0-flash</code> $0.10 $0.40 1M 50% Cheapest. Recommended for daily audits OpenAI <code>gpt-5.2</code> $1.75 $14.00 400K 50% Latest GPT OpenAI <code>gpt-5</code> $1.25 $10.00 400K 50% Previous generation OpenAI <code>gpt-5-mini</code> $0.25 $2.00 400K 50% Budget option OpenAI <code>gpt-5-nano</code> $0.05 $0.40 400K 50% Cheapest OpenAI option"},{"location":"reference/providers/#tiered-pricing","title":"Tiered Pricing","text":"<p>Anthropic and Gemini 2.5 Pro use tiered pricing \u2014 input tokens above 200K are billed at 2x the standard rate, and output tokens also switch to the higher tier:</p> Model Standard Input High-Tier Input (&gt;200K) Standard Output High-Tier Output <code>claude-opus-4-6</code> $5.00/M $10.00/M $25.00/M $37.50/M <code>claude-sonnet-4-5</code> $3.00/M $6.00/M $15.00/M $22.50/M <code>gemini-2.5-pro</code> $1.25/M $2.50/M $10.00/M $15.00/M <p>Tip</p> <p>Use <code>noxaudit estimate</code> to check if your codebase exceeds the 200K tier threshold. If it does, consider using the pre-pass to reduce token count, or switch to a Gemini model with a 1M context window.</p>"},{"location":"reference/providers/#cache-token-pricing-anthropic","title":"Cache Token Pricing (Anthropic)","text":"<p>Anthropic supports prompt caching, which reduces costs on repeated runs:</p> Model Cache Read $/M Cache Write $/M <code>claude-opus-4-6</code> $0.50 $6.25 <code>claude-sonnet-4-5</code> $0.30 $3.75 <p>Cache read tokens cost 10% of standard input price. Cache write tokens cost 125% of standard input price.</p>"},{"location":"reference/providers/#setup-per-provider","title":"Setup per Provider","text":""},{"location":"reference/providers/#anthropic","title":"Anthropic","text":"<pre><code>pip install noxaudit  # included by default\nexport ANTHROPIC_API_KEY=sk-ant-...\n</code></pre> <pre><code>repos:\n  - name: my-app\n    provider_rotation: [anthropic]\nmodel: claude-sonnet-4-5-20250929\n</code></pre> <p>Anthropic uses the batch API by default, which provides a 50% discount. Use <code>noxaudit submit</code> / <code>noxaudit retrieve</code> for the batch workflow.</p>"},{"location":"reference/providers/#openai","title":"OpenAI","text":"<pre><code>pip install 'noxaudit[openai]'\nexport OPENAI_API_KEY=sk-...\n</code></pre> <pre><code>repos:\n  - name: my-app\n    provider_rotation: [openai]\nmodel: gpt-5.2\n</code></pre>"},{"location":"reference/providers/#google-gemini","title":"Google Gemini","text":"<pre><code>pip install 'noxaudit[google]'\nexport GOOGLE_API_KEY=...\n</code></pre> <pre><code>repos:\n  - name: my-app\n    provider_rotation: [gemini]\nmodel: gemini-2.0-flash\n</code></pre> <p>Gemini's 1M context window makes it ideal for large codebases where Anthropic would hit tiered pricing.</p>"},{"location":"reference/providers/#multi-provider-rotation","title":"Multi-Provider Rotation","text":"<p>Rotate between providers to get different perspectives:</p> <pre><code>repos:\n  - name: my-app\n    provider_rotation: [anthropic, openai, gemini]\n</code></pre> <p>Noxaudit cycles through the list on each run. Different models catch different things \u2014 Claude is strong on security reasoning, GPT excels at structured analysis, and Gemini can ingest massive codebases in a single pass.</p>"},{"location":"reference/providers/#recommended-setup","title":"Recommended Setup","text":"<p>For most teams, a tiered approach works best:</p> Use Case Provider Model Cost/Run Daily audits Gemini <code>gemini-2.0-flash</code> ~$0.01 Weekly deep dives Anthropic <code>claude-sonnet-4-5</code> ~$0.50 Monthly comprehensive Anthropic <code>claude-opus-4-6</code> ~$2.00"},{"location":"roadmap/08-saas-scheduling/","title":"SaaS Scheduling &amp; Frames","text":"<p>Status: Future SaaS feature \u2014 removed from OSS CLI in v0.2.0.</p> <p>The OSS CLI is intentionally simple: you tell it what to audit, it audits. Scheduling, frame taxonomy, and smart rotation are SaaS features where they can deliver real value through zero-config automation and a visual dashboard.</p>"},{"location":"roadmap/08-saas-scheduling/#what-moves-to-saas","title":"What Moves to SaaS","text":""},{"location":"roadmap/08-saas-scheduling/#day-of-week-scheduling","title":"Day-of-Week Scheduling","text":"<p>The OSS CLI previously shipped a <code>DEFAULT_SCHEDULE</code> mapping weekdays to focus areas (Mon\u2192security, Tue\u2192patterns, etc.). This was confusing for new users and overly prescriptive. In the SaaS product, we pick the schedule \u2014 users never configure it.</p>"},{"location":"roadmap/08-saas-scheduling/#frame-taxonomy","title":"Frame Taxonomy","text":"<p>The five frames (<code>does_it_work</code>, <code>does_it_last</code>, <code>does_it_feel_right</code>, <code>can_everyone_use_it</code>, <code>can_we_prove_it</code>) organize focus areas into high-level quality questions. In the CLI, this added complexity without visual payoff. In the SaaS dashboard, frames structure health scores, trend views, and navigation.</p>"},{"location":"roadmap/08-saas-scheduling/#smart-rotation","title":"Smart Rotation","text":"<p>Intelligent scheduling based on repository activity:</p> <ul> <li>Skip audits when no commits since last run</li> <li>Increase frequency when code velocity is high</li> <li>Spread expensive models across the billing period</li> <li>Budget-aware scheduling: stay within monthly spend targets</li> </ul>"},{"location":"roadmap/08-saas-scheduling/#budget-aware-scheduling","title":"Budget-Aware Scheduling","text":"<p>The SaaS product manages spend automatically. It knows the user's tier, tracks cumulative cost, and adjusts audit frequency and model selection to stay within budget. This requires persistent state that a CLI can't maintain.</p>"},{"location":"roadmap/08-saas-scheduling/#why-its-a-saas-feature","title":"Why It's a SaaS Feature","text":"<p>Zero-config: Users connect a repo and get audits. We pick the schedule, model, and rotation strategy. No YAML to write.</p> <p>Cost optimization: We manage the spend. Daily Flash audits cost ~$0.35/day across all 7 focus areas. Monthly Opus deep dives cost ~$2/run. The SaaS product balances these automatically.</p> <p>Persistent state: Scheduling requires tracking what ran when, what changed since, and how to allocate the budget across time. This needs a database and a dashboard \u2014 not a config file.</p>"},{"location":"roadmap/08-saas-scheduling/#how-it-works-in-the-product","title":"How It Works in the Product","text":"<ol> <li>User connects a repo (GitHub App install)</li> <li>We run daily Gemini Flash audits, rotating through focus areas</li> <li>Monthly Opus deep dive across all areas</li> <li>Dashboard shows trends by frame, health scores, finding history</li> <li>User never configures a schedule \u2014 they just see results</li> </ol> <p>See SaaS Application for dashboard wireframes and architecture. The dashboard already uses frames in its information architecture (frame scores, drill-down to focus areas, trend views by frame).</p>"},{"location":"roadmap/08-saas-scheduling/#smart-scheduling-logic","title":"Smart Scheduling Logic","text":"<pre><code>on_commit:\n  if hours_since_last_audit &lt; 12: skip\n  if commit_touches_security_files: prioritize security\n  else: run next_in_rotation\n\non_schedule (daily):\n  if no_commits_since_last_audit: skip\n  run next_focus_area_in_rotation\n\non_schedule (monthly):\n  run all_focus_areas with opus model\n\nbudget_check:\n  if monthly_spend &gt; 80% of budget:\n    switch to cheaper model for remaining days\n  if monthly_spend &gt; 95% of budget:\n    skip non-critical audits\n</code></pre>"},{"location":"roadmap/08-saas-scheduling/#frame-based-organization-in-dashboard","title":"Frame-Based Organization in Dashboard","text":"<p>The 5 frames organize the dashboard, not the CLI:</p> Frame Question Focus Areas Dashboard Widget <code>does_it_work</code> Does it work? security, testing Safety score <code>does_it_feel_right</code> Does it feel right? ux-copy, help-content UX score <code>can_everyone_use_it</code> Can everyone use it? a11y, i18n Accessibility score <code>does_it_last</code> Does it last? patterns, hygiene, docs, dependencies Maintainability score <code>can_we_prove_it</code> Can we prove it? performance Performance score <p>This taxonomy adds value in a visual UI but is unnecessary complexity for a CLI tool.</p>"},{"location":"roadmap/08-saas-scheduling/#prompt-strategy-hybrid-model","title":"Prompt Strategy (Hybrid Model)","text":"<p>The OSS CLI ships functional starter prompts that work well across models. The SaaS product will use enhanced, per-model-tuned prompts iterated across many repos. This is a separate body of work \u2014 noted here as a future SaaS differentiator.</p> <ul> <li>OSS prompts: Good enough for all models, open source, user-modifiable</li> <li>SaaS prompts: Optimized per model (Flash vs Opus), A/B tested across repos, continuously improved</li> </ul>"},{"location":"roadmap/08-saas-scheduling/#references","title":"References","text":"<ul> <li>Strategy &amp; Pricing \u2014 tiered pricing model (Flash daily + Opus monthly)</li> <li>SaaS Application \u2014 dashboard wireframes (frames in information architecture)</li> <li>Product Quality Focus Areas \u2014 frame definitions and expansion roadmap</li> </ul>"}]}